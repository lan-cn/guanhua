<html>

<head>
    <title>官话生成器</title>
    <meta http-equiv="content-type" content="txt/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
</head>

<body>
    <div id="主体">
        <div id="标题">官话生成器</div>
        <div id="主题">
            <span>主题</span>
            <input></input>
            <button onclick="生成文章()">生成</button>
        </div>
        <div id="文章"></div>
    </div>
    <div id="声明">
        <p id="声明文字">请勿将生成的文章用于正规用途</p>
        <p>修改自狗屁不通文章生成器</p>
    </div>
    <div id="页脚">
        <p>
            网页版
            <a class="链接" href="https://github.com/suulnnka/BullshitGenerator"><svg class="图标" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a>            @
            <a class="链接" href="https://www.zhihu.com/people/su-lan-qia">suulnnka</a>
        </p>
        <p>
            原版
            <a class="链接" href="https://github.com/menzi11/BullshitGenerator"><svg class="图标" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a>            @
            <a class="链接" href="https://www.zhihu.com/people/ke-meng-90">menzi11</a>
        </p>
    </div>
</body>

</html>

<script>
    let _hmt = window._hmt || [];
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-BM8WXEWW3P');

    function track(eventName, title, seed) {
        gtag('event', eventName, {
            'event_label': title,
            'seed': seed,
            'title_seed': title + '_' + seed
        });
        _hmt.push(['_trackEvent', eventName, 'title', title]);
        _hmt.push(['_trackEvent', eventName, 'title_seed', title + '_' + seed]);
    }

    window.$ = function(selector) {
        return document.querySelector(selector);
    }

    function 获取网址参数(参数) {
        return new URL(window.location.href).searchParams.get(参数)
    }

    let 论述 = [
        '现在，解决主题的问题，是非常非常重要的。',
        '以人为本，执政为民，内化于心，提升境界。',
        '群众帮，领导点，组织评。',
        '开展一次自查自纠，查找一个风险点，制定一项防控措施，公开一次廉政承诺，规定一套工作程序。',
        '走进基层，服务群众；走进企业，服务发展；走进农户，服务农民。',
        '访民情，解民忧，办实事，暖民心实。',
        '治庸强责提能力，治懒强勤增效率，治散强纪正风气，治阻强责保畅通。',
        '坚持科学发展有韧劲，谋划科学发展有思路，推动科学发展有激情，实现科学发展有贡献。',
        '主要领导亲自抓，分管领导具体抓，相关部门协调抓，一级抓一级，一级向一级负责，层层抓落实。',
        '想认识进一步提高，从政行为进一步规范，机关作风进一步转变，干群关系进一步密切。',
        '一是统一组织，分工负责；二是统筹兼顾，突出重点；三是通盘谋划，分类实施；四是查纠结合，务求实效。',
        '应看必看，应读必读，应做必做，应讲必讲。',
        '权力行使安全，资金运作安全，项目建设安全，干部成长安全。',
        '严肃处理、舆论导向、解放思想、更新观念。',
        '世界接轨，中国国情、立党为公、执政为民。',

        '党要求我们， ',
        '党教导我们， ',
        '我认为， ',
        '同志们， ',
        '各位同志， ',
        '党告诉我们， ',
    ]

    let 名人名言 = [
        '要有政治认同、理论认同、感情认同，',
        '当前工作要有新水平、队伍建设要有新面貌、廉政建设要有新举措、自身建设要有新发展、内部管理要有新突破。',
        '要全面推进，统筹兼顾，综合治理，融入其中',
        '要贯穿始终，切实抓好，扎实推进，加快发展',
        '要积极稳妥，狠抓落实，从严控制，严格执行',
        '要坚决制止，明确职责，高举旗帜，坚定不移',
        '要牢牢把握，积极争取，深入开展，',
        '要注重强化，规范程序，改进作风，积极发展，努力建设，',
        '要依法实行，良性互动，优势互补，率先发展，',
        '要做深、做细、做实',
        '立足当前，著眼长远，自觉按规律办事，',
        '抓住机遇，应对挑战，勇敢顺潮流而为，',
        '突出重点，分步实施，找准切入点实施，',
        '统一思想，提高认识，',
        '认清形势，明确任务，',
        '加强领导，完善机制，',
        '交流经验，研究问题，',
        '兢兢业业，精益求精，一抓到底，爱岗敬业。',
        '求真务实，胸怀全局，拓宽视野。',
        '以畅通安全为保障。',
        '组织意识、大局意识、忧患意识、责任意识。',
        '当前工作要有新水平、队伍建设要有新面貌、廉政建设要有新举措。',
        '要全面分析，全面贯彻，持续推进，全面落实。',
        '要普遍增加，基本建立，更加完备，逐步完善。',
        '要巩固深化，大幅提高，显著改善，不断增强。',
    ]

    let 后面垫话 = [
        '这样才能凝聚无穷力量。 ',
        '这能催生丰硕成果： ',
        '这启发了我， ',
        '让其展现全新魅力。 ',
        '这是历史的必然、现实的选择。 ',
        '一定要找准出发点、把握切入点、明确落脚点、找准落脚点、抓住切入点、把握著重点、找准切入点、把握著力点、抓好落脚点。 ',
    ]

    let 前面垫话 = [
        '习总书记说过，',
        '党教导我们，',
    ]

    let 初始主题 = [
        '建设社会主义',
    ]

    let 下取整 = Math.floor;

    let 同余乘数 = 214013;
    let 同余加数 = 2531011;
    let 同余模 = Math.pow(2, 32);

    let 随机种子 = 获取网址参数('随机种子') || 下取整(随便取一个数(0, 同余模, Math.random));

    let 主题 = 获取网址参数('主题') || 随便取一句(初始主题)

    $('input').value = 主题;

    // LCG https://en.wikipedia.org/wiki/Linear_congruential_generator
    function 同余发生器() {
        随机种子 = (随机种子 * 同余乘数 + 同余加数) % 同余模;
        return 随机种子 / 同余模;
    };

    function 随便取一句(列表) {
        let 坐标 = 下取整(同余发生器() * 列表.length);
        return 列表[坐标];
    }

    function 随便取一个数(最小值 = 0, 最大值 = 100, 随机数函数 = 同余发生器) {
        let 数字 = 随机数函数() * (最大值 - 最小值) + 最小值;
        return 数字;
    }

    function 来点名人名言() {
        let 名言 = 随便取一句(名人名言)
        名言 = 名言.replace('教导我们', 随便取一句(前面垫话))
        名言 = 名言.replace('党要求我们', 随便取一句(后面垫话))
        return 名言
    }

    function 来点论述() {
        let 句子 = 随便取一句(论述);
        句子 = 句子.replace(RegExp('主题', 'g'), 主题);
        return 句子;
    }

    function 增加段落(段落) {
        if (段落[段落.length - 1] === ' ') {
            段落 = 段落.slice(0, -2)
        }
        return '　　' + 段落 + '。 '
    }

    function 生成文章() {
        主题 = $('input').value
        history.pushState({
            url: window.location.href
        }, null, '?主题=' + 主题 + '&随机种子=' + 随机种子);
        track('generator', 主题, 随机种子);
        let 文章 = []
        let 段落 = '';
        let 文章长度 = 0;
        while (文章长度 < 12000) {
            let 随机数 = 随便取一个数();
            if (随机数 < 5 && 段落.length > 200) {
                段落 = 增加段落(段落);
                文章.push(段落);
                段落 = '';
            } else if (随机数 < 20) {
                let 句子 = 来点名人名言();
                文章长度 = 文章长度 + 句子.length;
                段落 = 段落 + 句子;
            } else {
                let 句子 = 来点论述();
                文章长度 = 文章长度 + 句子.length;
                段落 = 段落 + 句子;
            }
        }
        段落 = 增加段落(段落);
        文章.push(段落);

        let 排版 = '<div>' + 文章.join('</div><div>') + '</div>';
        $('#文章').innerHTML = 排版;
        $('#声明文字').style.display = 'block'
    }

    if (获取网址参数('主题')) {
        生成文章();
        track('shared', 主题, 随机种子);
    }
</script>
<style>
    @media screen and (max-width: 1024px) {
        html {
            font-size: 2vw;
            color: #333333;
        }
        body {
            margin: 0;
        }
        #主体 {
            border: 2px solid #333333;
            margin: 6px;
            padding: 6px;
            background: #f8f8f8;
        }
        #标题 {
            font-size: 3rem;
            line-height: 3rem;
            text-align: center;
        }
        #主题 {
            text-align: center;
            margin-top: 6px;
            font-size: 0px;
        }
        #主题 span {
            font-size: 2rem;
            vertical-align: baseline;
            margin-left: 6px;
        }
        #主题 input {
            border: none;
            border-bottom: #666666 2px solid;
            padding: 1px 0 0 0;
            margin: 0px 6px 0 6px;
            vertical-align: baseline;
            font-size: 2rem;
            background: #f8f8f8;
            color: #333333;
            text-align: center;
            min-width: 20%;
        }
        #主题 button {
            border: 0;
            padding: 3px 7px 3px 7px;
            margin: 0;
            vertical-align: top;
            font-size: 1.4rem;
            background: #454545;
            color: #efefef;
        }
        #文章 div {
            margin-top: 6px;
            font-size: 2rem;
            text-align: justify;
        }
        #声明 {
            float: left;
            margin: 0 0 0 6px;
        }
        #声明 p {
            margin: 0 0 3px 3px;
            font-size: 1.4rem;
        }
        #声明文字 {
            display: none;
        }
        #页脚 {
            margin: 6px;
        }
        #页脚 p {
            margin: 3px;
            font-size: 1.4rem;
            text-align: right;
        }
        .链接 {
            color: #666666;
        }
        .图标 {
            height: 1rem;
            width: 1rem;
            vertical-align: top;
            margin-top: 2px;
        }
    }
    
    @media screen and (min-width: 1024px) {
        html {
            font-size: 1.3vw;
            color: #333333;
        }
        body {
            margin: 0;
        }
        #主体 {
            border: 2px solid #333333;
            margin: 20px;
            padding: 20px;
            background: #f8f8f8;
        }
        #标题 {
            font-size: 1.9rem;
            line-height: 1.9rem;
            text-align: center;
        }
        #主题 {
            text-align: center;
            margin-top: 20px;
            font-size: 0px;
        }
        #主题 span {
            font-size: 1rem;
            vertical-align: baseline;
            margin-left: 20px;
        }
        #主题 input {
            border: none;
            border-bottom: #666666 2px solid;
            padding: 1px 0 0 0;
            margin: 0px 20px 0 20px;
            vertical-align: baseline;
            font-size: 1rem;
            background: #f8f8f8;
            color: #333333;
            text-align: center;
            min-width: 20%;
        }
        #主题 button {
            border: 0;
            padding: 5px 15px 5px 15px;
            margin: 0;
            vertical-align: top;
            font-size: 0.75rem;
            background: #454545;
            color: #efefef;
        }
        #文章 div {
            margin-top: 20px;
            text-align: justify;
        }
        #声明 {
            float: left;
            margin: 0 0 0 20px;
        }
        #声明 p {
            margin: 0 0 5px 5px;
            font-size: 0.75rem;
        }
        #声明文字 {
            display: none;
        }
        #页脚 {
            margin: 20px;
        }
        #页脚 p {
            margin: 5px;
            font-size: 0.75rem;
            text-align: right;
        }
        .链接 {
            color: #666666;
        }
        #页脚 span {
            padding: 2px 0 0 0;
            vertical-align: baseline;
        }
        .图标 {
            height: 0.7rem;
            width: 0.7rem;
            vertical-align: top;
            margin-top: 4px;
        }
    }
</style>